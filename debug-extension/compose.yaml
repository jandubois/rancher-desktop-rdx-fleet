# Rancher Desktop Extension Backend Service
#
# RANCHER DESKTOP WORKAROUNDS:
# 1. pull_policy: never - required for locally-built images
#
# See docs/reference/rancher-desktop-extension-bugs.md for details

services:
  backend:
    # Use the same image as the extension itself for the backend service.
    # Both Docker Desktop and Rancher Desktop expand ${DESKTOP_PLUGIN_IMAGE} automatically.
    image: ${DESKTOP_PLUGIN_IMAGE}
    pull_policy: never
    command: ["/service", "-socket", "/run/guest-services/rd-extension-debugger.sock"]
